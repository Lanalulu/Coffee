<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coffee Landing</title>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyA0viRbhk30SLr3FRAwl0SiYgj7I-XTihM&libraries=places"></script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
</head>
<body data-spy="scroll" data-target="nav" data-offset="47">

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
  	<div class="navbar-header">
  		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
  			<span class="icon-bar"></span>
  			<span class="icon-bar"></span>
  			<span class="icon-bar"></span>
  			<span class="icon-bar"></span>
  		</button>
  		<a class="navbar-brand" href="#">
  			<i class="fa fa-coffee fa-lg"></i> Coffee Landing
  		</a>
  	</div>
  	<div class="collapse navbar-collapse" id="navbar-collapse">
		<ul class="nav navbar-nav">
			<li class="active"><a href="#home">Home</a></li>
			<li><a href="#instructions">Instructions</a></li>
			<li><a href="#funFacts">Fun Facts</a></li>
			<li><a href="#about">About</a></li>
		</ul>
	</div>
  </div>
</nav>

<!-- Header -->
<header id="home" class="header text-center">
	<div class="vertical-center">
		<h1>Need a Cup of Joe?</h1>
		<h3>Locate Nearby Cafes</h3>
		<a href="#brew" id="brew" class="btn btn-success btn-lg">Brew</a>
	</div>
</header>

<!-- Instructions -->
<section id="instructions">
	<div class="layer">
		<div class="container">
			<div class="row text-center">
				<div class="col-md-4 col-sm-4">
					<div class="circle center-block">1</div>
					<p class="lead">Click "Brew"</p>
					<p class="padding">This sends a signal, prompting a request from Google Location Services.</p>
				</div>
				<div class="col-md-4 col-sm-4">
					<div class="circle center-block">2</div>
					<p class="lead">Share Your Location</p>
					<p class="padding">After allowing location detection, Google pinpoints coffee shops within a one-mile radius.</p>
				</div>
				<div class="col-md-4 col-sm-4">
					<div class="circle center-block">3</div>
					<p class="lead">View the Results</p>
					<p class="padding">In a matter of seconds, a multitude of options are presented.</p>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Fun Facts -->
<section id="funFacts">
	<div class="container">
		<div class="row">
			<div class="col-lg-6 col-md-6 col-sm-6 text-center">
				<i class="fa fa-video-camera fa-5x"></i>
				<h2>Webcams were invented for the sole purpose of coffee.</h2>
				<p class="lead">Back in the early 90's, Cambridge University scientists were fed up with fruitless trips to the break room, only to find an empty coffee pot. Thus, a webcam was installed to keep track of the pot's contents. <a target="_blank" href="https://www.cl.cam.ac.uk/coffee/qsf/coffee.html">More details</a>.</p>
			</div>
			<div class="col-lg-6 col-md-6 col-sm-6 text-center">
				<i class="fa fa-thumbs-o-down fa-5x"></i>
				<h2>King Charles II's biggest rival? Coffee.</h2>
				<p class="lead">Coffee shops were extremely popular during the reign of King Charles II. Meetings, debates, and gossip were common occurrences at these newly established cafes, all of which threatened his Majesty to suspect disloyalty and slander, ultimately causing him to initiate a ban. <a target="_blank" href="http://www.history.co.uk/study-topics/history-of-london/londons-coffee-houses">More Info</a>.</p>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 col-md-6 col-sm-6 text-center">
				<i class="fa fa-camera fa-5x"></i>
				<h2>Man, where did you find a picture of such delectable java?</h2>
				<p class="lead">The ultra HD, professional photos on this page are courtesy of <a target="_blank" href="https://www.pexels.com/">Pexels</a>.</p>
			</div>
			<div class="col-lg-6 col-md-6 col-sm-6 text-center">
				<i class="fa fa-pencil-square fa-5x"></i>
				<h2>This website utilizes Bootstrap for design and functionality!</h2>
				<p class="lead">To learn more about Bootstrap and its many efficiencies in the world of web development, <a target="_blank" href="http://getbootstrap.com/getting-started/">start here</a>.</p>
			</div>
		</div>
	</div>
</section>

<!-- About -->
<section id="about">
	<div class="layer">
		<img class="img-responsive img-circle center-block" src="images/creator.jpg"/>
		<div class="container">
			<div class="row">
				<div class="text-center col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12">
					<h1>Creator of Coffee Landing</h1>
					<hr width="200">
	                <h3 class="lead">Aspiring Web Developer - Flautist - UX Enthusiast</h3>
	                <p class="description">The mastermind behind this jaw-dropping website is a young woman who recently obtained her Master of Science in Applied Psychology. Soon after graduation, she became curious about the field of user experience and decided to venture out on a self-taught journey towards HTML, CSS, JavaScript, jQuery, Bootstrap, and PHP. Now having these languages securely under her belt, she is eager to learn more. In her spare time, she also enjoys playing the flute, singing Japanese songs from the 80's, and coding anything from HTML emails to webpages. Surprisingly enough, she does not like coffee (go figure).</p>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Footer -->

<section id="footer" class="container-fluid text-center">
	<a href="https://github.com/Lanalulu" target="_blank"><i class="fa fa-github fa-5x"></i></a>
	<p>Copyright <i class="fa fa-copyright"></i> 2016 Lanalulu</p>
</section>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script type="text/javascript">

var map;
var infoWindow;
var request;
var service;
var markers = [];

function initialize(location) {
	var center = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);
	map = new google.maps.Map(document.getElementById('home'), {
		center: center,
		zoom: 14
	});

	request = {
		location: center,
		radius: 1600,
		types: ['cafe']
	};

	infoWindow = new google.maps.InfoWindow();

	service = new google.maps.places.PlacesService(map);

	service.nearbySearch(request, callback);

	google.maps.event.addListener(map, 'rightclick', function(event) {
		map.setCenter(event.latLng)
		clearResults(markers)

		var request = {
			location: event.latLng,
			radius: 8047,
			types: ['cafe']
		};

		service.nearbySearch(request, callback);

	})
}

function callback(results, status) {
	if (status == google.maps.places.PlacesServiceStatus.OK) {
		for (var i = 0; i < results.length; i++) {
  			var place = results[i];
  			markers.push(createMarker(results[i]));
		}
	}
}

function createMarker(place) {
	var placeLoc = place.geometry.location;
	var marker = new google.maps.Marker({
		map: map,
	position: place.geometry.location
	});

google.maps.event.addListener(marker, 'click', function() {

	infoWindow.setContent(place.name + "<br />" + place.formatted_address +"<br />" + place.website + "<br />" + place.rating + "<br />" + place.formatted_phone_number);
	infoWindow.open(map, this);

	});

	return marker;

}

function clearResults(markers) {
	for (var m in markers) {
		markers[m].setMap(null)
	}
	markers = []
}

$(document).ready(function(){

	$("#brew").click(function(e){
		navigator.geolocation.getCurrentPosition(initialize);
		$('.vertical-center').effect( "shake", {times: 50, distance: .7}, 500);
		e.preventDefault();
	});

	$(".navbar-nav li a").click(function(event) {
    	$(".navbar-collapse").collapse('hide');
	});
});

</script>
</body>
</html>